/*
THIS IS A GENERATED/BUNDLED FILE BY ROLLUP
if you want to view the source visit the plugins github repository
*/

'use strict';

var obsidian = require('obsidian');

/******************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/* global Reflect, Promise, SuppressedError, Symbol */


function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

typeof SuppressedError === "function" ? SuppressedError : function (error, suppressed, message) {
    var e = new Error(message);
    return e.name = "SuppressedError", e.error = error, e.suppressed = suppressed, e;
};

const DEFAULT_SETTINGS = {
    autoSplit: true,
    minSize: 1000,
    direction: 'auto',
    editorFirst: true,
    paneToFocus: 'source',
    linkPanes: true,
};
class AutoSplitPlugin extends obsidian.Plugin {
    constructor() {
        super(...arguments);
        this.hasOpenFiles = false;
    }
    updateHasOpenFiles() {
        try {
            this.hasOpenFiles =
                this.app.workspace.getLeavesOfType('markdown').length > 0;
        }
        catch (e) {
            // it's okay to fail sometimes
        }
    }
    onload() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.loadSettings();
            this.addSettingTab(new AutoSplitSettingTab(this.app, this));
            this.addCommand({
                id: 'split-current-pane',
                name: 'Split and link current pane',
                checkCallback: (checking) => {
                    var _a;
                    if (obsidian.Platform.isPhone)
                        return false;
                    const file = (_a = this.app.workspace.activeEditor) === null || _a === void 0 ? void 0 : _a.file;
                    if (!file)
                        return false;
                    if (!checking)
                        this.splitActiveFile(file);
                    return true;
                },
            });
            this.app.workspace.onLayoutReady(() => {
                this.updateHasOpenFiles();
                this.registerEvent(this.app.workspace.on('file-open', (file) => __awaiter(this, void 0, void 0, function* () {
                    if (this.settings.autoSplit &&
                        !obsidian.Platform.isPhone &&
                        this.app.workspace.getLeavesOfType('markdown').length === 1 &&
                        !this.hasOpenFiles &&
                        file) {
                        yield this.splitActiveFile(file, true);
                    }
                    this.updateHasOpenFiles();
                })));
            });
        });
    }
    loadSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            this.settings = Object.assign({}, DEFAULT_SETTINGS, yield this.loadData());
        });
    }
    saveSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.saveData(this.settings);
        });
    }
    splitActiveFile(file_1) {
        return __awaiter(this, arguments, void 0, function* (file, autoSplit = false) {
            var _a;
            const activeLeaf = (_a = this.app.workspace.getActiveViewOfType(obsidian.MarkdownView)) === null || _a === void 0 ? void 0 : _a.leaf;
            if (!activeLeaf)
                return;
            const rootSize = getRootContainerSize(this.app);
            let direction = this.settings.direction;
            if (direction === 'auto') {
                direction = rootSize.width >= rootSize.height ? 'vertical' : 'horizontal';
            }
            if ((direction === 'vertical' ? rootSize.width : rootSize.height) >
                this.settings.minSize) {
                const viewState = activeLeaf.getViewState();
                if (viewState.type !== 'markdown')
                    return;
                viewState.active = false;
                viewState.state.mode =
                    viewState.state.mode === 'preview' ? 'source' : 'preview';
                const firstPane = this.settings.editorFirst ? 'source' : 'preview';
                const newLeaf = this.app.workspace.createLeafBySplit(activeLeaf, direction, autoSplit && viewState.state.mode === firstPane);
                yield newLeaf.openFile(file, viewState);
                if (!autoSplit || this.settings.linkPanes) {
                    activeLeaf.setGroupMember(newLeaf);
                }
                if (autoSplit && viewState.state.mode === this.settings.paneToFocus) {
                    this.app.workspace.setActiveLeaf(newLeaf, { focus: true });
                }
            }
        });
    }
}
class AutoSplitSettingTab extends obsidian.PluginSettingTab {
    constructor(app, plugin) {
        super(app, plugin);
        this.plugin = plugin;
    }
    display() {
        let { containerEl } = this;
        containerEl.empty();
        if (obsidian.Platform.isPhone) {
            const infoText = containerEl.createEl('div', {
                cls: 'auto-split-settings-info-text',
            });
            obsidian.setIcon(infoText, 'info');
            infoText.createEl('p', {
                text: 'Split panes are not supported on phones.',
            });
            return;
        }
        containerEl.createEl('h2', { text: 'Auto Split Settings' });
        new obsidian.Setting(containerEl)
            .setName('Split Automatically')
            .setDesc('Turn off to only split when the command "Split and link current pane" is used.')
            .addToggle((toggle) => {
            toggle
                .setValue(this.plugin.settings.autoSplit)
                .onChange((value) => __awaiter(this, void 0, void 0, function* () {
                this.plugin.settings.autoSplit = value;
                yield this.plugin.saveSettings();
            }));
        });
        const { width: rootWidth, height: rootHeight } = getRootContainerSize(this.app);
        new obsidian.Setting(containerEl)
            .setName('Minimum Size')
            .setDesc(`Only split if the main area is at least this wide or tall, depending on split direction. The main area was ${rootWidth}x${rootHeight} when you opened this screen. (default: 1000)`)
            .addText((text) => {
            text.inputEl.type = 'number';
            text
                .setValue(String(this.plugin.settings.minSize))
                .onChange((value) => __awaiter(this, void 0, void 0, function* () {
                const valueAsNumber = Number.parseInt(value);
                this.plugin.settings.minSize = Number.isInteger(valueAsNumber)
                    ? valueAsNumber
                    : this.plugin.settings.minSize;
                yield this.plugin.saveSettings();
            }));
        });
        new obsidian.Setting(containerEl)
            .setName('Split Direction')
            .setDesc('Vertical = left/right, Horizontal = up/down. Auto splits vertically if the main area is wider than it is tall, and horizontally otherwise.')
            .addDropdown((dropdown) => {
            dropdown
                .addOptions({
                auto: 'Auto',
                vertical: 'Vertical',
                horizontal: 'Horizontal',
            })
                .setValue(this.plugin.settings.direction)
                .onChange((value) => __awaiter(this, void 0, void 0, function* () {
                this.plugin.settings.direction = value;
                yield this.plugin.saveSettings();
            }));
        });
        const infoText = containerEl.createEl('div', {
            cls: 'auto-split-settings-info-text',
        });
        obsidian.setIcon(infoText, 'info');
        infoText.createEl('p', {
            text: 'Settings below do not apply to the "Split and link current pane" command.',
        });
        new obsidian.Setting(containerEl)
            .setName('Editor First')
            .setDesc('Place the pane with the editor on the left/top.')
            .addToggle((toggle) => {
            toggle
                .setValue(this.plugin.settings.editorFirst)
                .onChange((value) => __awaiter(this, void 0, void 0, function* () {
                this.plugin.settings.editorFirst = value;
                yield this.plugin.saveSettings();
            }));
        });
        new obsidian.Setting(containerEl)
            .setName('Focus On')
            .setDesc('Select which pane should be focused.')
            .addDropdown((dropdown) => {
            dropdown
                .addOptions({
                source: 'Editor',
                preview: 'Preview',
            })
                .setValue(this.plugin.settings.paneToFocus)
                .onChange((value) => __awaiter(this, void 0, void 0, function* () {
                this.plugin.settings.paneToFocus = value;
                yield this.plugin.saveSettings();
            }));
        });
        new obsidian.Setting(containerEl)
            .setName('Link Panes')
            .setDesc('Link the panes so their scroll position and open file stay the same.')
            .addToggle((toggle) => {
            toggle
                .setValue(this.plugin.settings.linkPanes)
                .onChange((value) => __awaiter(this, void 0, void 0, function* () {
                this.plugin.settings.linkPanes = value;
                yield this.plugin.saveSettings();
            }));
        });
    }
}
function getRootContainerSize(app) {
    const rootContainer = app.workspace.rootSplit.doc.documentElement;
    if (rootContainer) {
        return {
            width: rootContainer.clientWidth,
            height: rootContainer.clientHeight,
        };
    }
    else {
        console.warn(`[Auto Split] couldn't get root container, using window size`);
        return {
            width: window.innerWidth,
            height: window.innerHeight,
        };
    }
}

module.exports = AutoSplitPlugin;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsibm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIm1haW4udHMiXSwic291cmNlc0NvbnRlbnQiOm51bGwsIm5hbWVzIjpbIlBsdWdpbiIsIlBsYXRmb3JtIiwiTWFya2Rvd25WaWV3IiwiUGx1Z2luU2V0dGluZ1RhYiIsInNldEljb24iLCJTZXR0aW5nIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWtHQTtBQUNPLFNBQVMsU0FBUyxDQUFDLE9BQU8sRUFBRSxVQUFVLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBRTtBQUM3RCxJQUFJLFNBQVMsS0FBSyxDQUFDLEtBQUssRUFBRSxFQUFFLE9BQU8sS0FBSyxZQUFZLENBQUMsR0FBRyxLQUFLLEdBQUcsSUFBSSxDQUFDLENBQUMsVUFBVSxPQUFPLEVBQUUsRUFBRSxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRTtBQUNoSCxJQUFJLE9BQU8sS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLE9BQU8sQ0FBQyxFQUFFLFVBQVUsT0FBTyxFQUFFLE1BQU0sRUFBRTtBQUMvRCxRQUFRLFNBQVMsU0FBUyxDQUFDLEtBQUssRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUU7QUFDbkcsUUFBUSxTQUFTLFFBQVEsQ0FBQyxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLE1B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
